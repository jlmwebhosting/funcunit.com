<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>Getting Started - FuncUnit Guides</title>
	<meta name="description" content="">
	<meta name="author" content="">

	<link rel="stylesheet" type="text/css" 
		
			href='./static/production.css'
		 />
	<!--[if lt IE 9]>
   <script type="text/javascript" src="../scripts/static/lib/html5shiv.js"></script>
    <!--<![endif]-->
</head>

<body class="guides">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand funcunit" href="../index.html">FuncUnit</a>
				<ul class="dropdown-menu">
					<li><a href="http://javascriptmvc.com">JavaScriptMVC</a></li>
					<li><a href="http://canjs.com">CanJS</a></li>
					<li><a href="http://jquerypp.com">jQuery++</a></li>
					<li><a href="http://javascriptmvc.com/docs.html#!stealjs">StealJS</a></li>
					<li class="active"><a href="../index.html">FuncUnit</a></li>
					<li><a href="http://javascriptmvc.com/docs.html#!DocumentJS">DocumentJS</a></li>
				</ul>
			</div>
			<ul class="nav">
				<li class="active"><a href="../guides/index.html">Guides</a></li>
				<li class=""><a href="../docs/index.html">Api</a></li>
				<li class=""><a href="../community.html#!forums">Community</a></li>
			</ul>
			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/consulting/">Consulting</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<div class="container api">
	<nav class="sidebar">
		
		<div class="search-wrapper">
			<div class="search">
				<input type="text"/>
			</div>
		</div>
		
		<ul class="api">
	<!-- First Level -->
	
		<li class="search-container active">
			
			
				<a href="started.html" data-search="Getting Started">
					Getting Started
				</a>
			

			
		</li>
	
		<li class="search-container">
			
			
				<a href="funcunit.actions.html" data-search="Actions">
					Actions
				</a>
			

			
		</li>
	
		<li class="search-container">
			
			
				<a href="funcunit.getters.html" data-search="Getters &amp; Assertions">
					Getters &amp; Assertions
				</a>
			

			
		</li>
	
		<li class="search-container">
			
			
				<a href="funcunit.finding.html" data-search="Finding Elements">
					Finding Elements
				</a>
			

			
		</li>
	
		<li class="search-container">
			
			
				<a href="funcunit.waits.html" data-search="Waits">
					Waits
				</a>
			

			
		</li>
	
</ul>
	</nav>
	<article class="content docs">
		<section class="title">
			<div class="pull-right">
	<ul class="tags">
		<li>page</li>
	</ul>
	<ul class="links">
		
			<li><a href="https://github.com/bitovi/funcunit.js/tree/v2.0.3/getting_started.md">source</a></li>
		
		
			
		
		
	</ul>
</div>

<h1>
Getting Started

	
		<span class="module">started</span>
	


</h1>

<span class="inherits">&nbsp;</span>

		</section>

		<section class="contents">
		</section>

		<section class="description">
			
		</section>

		

		
		
		
		

		
		<section class="comment">
			<p>In this guide, we'll use FuncUnit to write functional tests for the <a href="http://bitovi.github.io/srchr">Srchr sample app</a>. We'll cover:</p>

<ul>
<li>How to get FuncUnit</li>
<li>Enhancing unit tests</li>
<li>Testing integration between widgets</li>
</ul>

<p>Note:</p>

<p>FuncUnit has two dependencies:</p>

<ul>
<li>jQuery - only on the test runner page</li>
<li>QUnit or Jasmine</li>
</ul>

<h2>How to get FuncUnit</h2>

<p>You can download <a href="/dist/latest/funcunit.js">funcunit.js</a>, or install as a bower component:</p>

<pre><code>bower install funcunit
</code></pre>

<p>All examples below can be downloaded <a href="/dist/examples.zip">here.</a></p>

<h2>Enhancing unit tests</h2>

<p>This section will take a basic QUnit test and use FuncUnit to simulate user interaction.</p>

<p>Instead of using the built in QUnit assertions, you can use any of FuncUnit's <a href="/guides/funcunit.waits.html">waits</a>.</p>

<pre><code>test('Hello World!', function() {
    F('.sample').text('Hello World!', 'h1 should have text hello world');
});
</code></pre>

<p><em>Note: Included in the <a href="/dist/examples.zip">examples package</a> is a "Hello World" Jasmine spec.</em></p>

<h2>Testing a UI widget</h2>

<p>This section will test a single UI widget, using QUnit from the <a href="http://bitovi.github.io/srchr">Srchr</a> app. Specifically, the Tabs widget will be explained here, however Srchr has many FuncUnit tests for each widget.</p>

<p>Srchr is built using <a href="http://javascriptmvc.com/docs/stealjs.html">StealJS</a> and <a href="http://canjs.com">CanJS</a>.</p>

<p>Setup is similar to any unit testing approach:</p>

<pre><code>steal('ui/tabs', 'funcunit', function(Tabs, F) {

    //Some DOM we'll use for testing the Tabs widget
    var tabsHTML ="&lt;ul id='resultsTab'&gt;\
        &lt;li&gt;&lt;a class='flickr' href='#flickr'&gt;Flickr&lt;/a&gt;&lt;/li&gt;\
        &lt;li&gt;&lt;a class='yahoo' href='#yahoo'&gt;Yahoo&lt;/a&gt;&lt;/li&gt;\
        &lt;li&gt;&lt;a class='upcoming' href='#upcoming'&gt;Upcoming&lt;/a&gt;&lt;/li&gt;\
        &lt;/ul&gt;\
        &lt;div id='flickr' class='tab'&gt;one&lt;/div&gt;\
        &lt;div id='upcoming' class='tab'&gt;three&lt;/div&gt;\
        &lt;div id='yahoo' class='tab'&gt;two&lt;/div&gt;";

    //Using QUnit's setup/teardown methods,
    //create a Tabs widget before each test, then clean up the DOM after
    module("ui/tabs",{
        setup : function(){
            $("#qunit-test-area").html(tabsHTML);
            this.flickrLI = $("#resultsTab li:eq(0)");
            this.upcomingLI = $("#resultsTab li:eq(1)");
            this.yahooLI = $("#resultsTab li:eq(1)");
        },
        teardown: function(){
            $("#qunit-test-area").empty();
        }
    });

    //tests will go here
});
</code></pre>

<p>Now, test basic functionality for the Tabs widget. "Tabs" shows and hides panels based on the <code>click</code> event and setting respective CSS classes.</p>

<p>In the below example, notice: <code>F(".yahoo").click()</code>. This will trigger <code>mousedown</code>, <code>click</code> and <code>mouseup</code> accordingly, accurately depicting a true user click. <code>F("#yahoo").visible()</code> is a <a href="/guides/funcunit.waits.html">wait</a> and can take a callback method. This method will execute after $('#yahoo') is visible on the page. This is helpful for elements that are animated in, as FuncUnit will poll for a given "wait" assertion.</p>

<pre><code>test("Proper hiding and showing", function() {
    var enabled  = can.compute(['flickr','yahoo','upcoming']);
    new Tabs("#resultsTab",{
        enabled: enabled
    });

    F(".yahoo").click();
    F("#yahoo").visible(function() {
        equal(F("#flickr").css('display'), 'none', "Old tab contents are hidden");
        ok(!F(".flickr").parent().hasClass('active'), 'Old tab is not set to active');
        ok(F(".yahoo").parent().hasClass('active'), 'New tab is set to active');
    });
});
</code></pre>

<p>You can mix/match your built in assertion library as well as use FuncUnit's waits &amp; actions to accurately depict user interaction.</p>

<h2>Testing integration between widgets</h2>

<p>A more powerful use for FuncUnit is testing the interaction between widgets. Sometime's referred to as smoke or integration tests, FuncUnit provides an API to test an app via url.</p>

<p><em>Note: It is recommend for this type of test to have a fixturized service layer such as <a href="http://canjs.com/docs/can.fixture.html">CanJS fixtures</a> or use an isolated test database when service calls are present.</em></p>

<p>Use <a href="/docs/FuncUnit.open.html">F.open</a> to open a new window with the url to test.</p>

<pre><code>steal('funcunit', function(F) {
    module('srchr', {
        setup: function() {
            F.open('srchr/srchr.html');
        }
    });
});
</code></pre>

<p>FuncUnit keeps a reference to the new page and can run tests in an applications true state, as opposed to within a test div with standard unit testing.</p>

<p>Using FuncUnit's actions, waits and QUnit's built in assertions, we can test Srchr as a normal user might expect.</p>

<pre><code>test('Search shows results in selected service', function() {
    F('input[value=Reddit]').click();
    F('#query').click().type('Dogs\r');

    // wait until there are 2 results
    F("#Reddit li").exists(function() {

        ok(true, "We see results in Reddit");
        // make sure we see dogs in the history
        var r = /Dogs\s+r/i;

        ok(r.test(F("#history li.selected").text()), "we see dogs correctly");

        // make sure flickr and everyone else is diabled
        ok(F('#results li:contains(Flickr)').hasClass('disabled'), "Flickr is disabled.");
        ok(F('#results li:contains(Google)').hasClass('disabled'), "Google is disabled.");
    });
});
</code></pre>

<h2>Conclusion</h2>

<p>Hopefully, this guide illustrates how FuncUnit provides the holy grail of testing: easy, familiar syntax, in browser running for
easy debugging and simple automation.</p>

<p>FuncUnit will transform your development lifecycle, give your developers confidence and improve quality.</p>

<p>That's it! If you want to learn more, read about FuncUnit's <a href="/docs">FuncUnit API</a>.</p>
		</section>
		

		
	</article>
</div>



	<footer>
		<nav class="container">
			<a class="brand javascriptmvc" href="index.html"></a>
			<ul class="nav">
				<li class="active"><a href="../guides/index.html">Guides</a></li>
				<li class=""><a href="../docs/index.html">Api</a></li>
				<li class=""><a href="../community.html#!forums">Community</a></li>
			</ul>
		</nav>
	</footer>
	<script type="text/javascript">
		steal = {
			productionId: "production.js",
			executed: ["documentjs/site/static/build/production.css"]
		}
	</script>
	<script 
	
		src="./static/steal.production.js"
	
		></script>
</body>

</html>
